import{_ as e,c as a,o as i,ag as t}from"./chunks/framework.Bw-5EFTY.js";const u=JSON.parse('{"title":"Using AWS CLI for Cloud Management","description":"","frontmatter":{},"headers":[],"relativePath":"references/cli-tools/aws-cli.md","filePath":"references/cli-tools/aws-cli.md"}'),n={name:"references/cli-tools/aws-cli.md"};function l(o,s,p,r,c,d){return i(),a("div",null,s[0]||(s[0]=[t(`<h1 id="using-aws-cli-for-cloud-management" tabindex="-1">Using AWS CLI for Cloud Management <a class="header-anchor" href="#using-aws-cli-for-cloud-management" aria-label="Permalink to &quot;Using AWS CLI for Cloud Management&quot;">​</a></h1><h2 id="overview" tabindex="-1">Overview <a class="header-anchor" href="#overview" aria-label="Permalink to &quot;Overview&quot;">​</a></h2><p>The AWS CLI is a unified tool for managing AWS services via command-line commands. It supports a wide range of services, including EC2, S3, RDS, and more, and is ideal for scripting and automation tasks in cloud environments.</p><p><strong>Environment</strong>:</p><ul><li><strong>Operating System</strong>: Any Linux distribution (e.g., Rocky Linux, Ubuntu, CentOS).</li><li><strong>Tools</strong>: AWS CLI v2 (recommended for modern features and security).</li><li><strong>Prerequisites</strong>: An AWS account with access keys or IAM roles for authentication.</li></ul><h2 id="prerequisites" tabindex="-1">Prerequisites <a class="header-anchor" href="#prerequisites" aria-label="Permalink to &quot;Prerequisites&quot;">​</a></h2><ul><li><strong>AWS Account</strong>: Create an AWS account and generate access keys (Access Key ID and Secret Access Key) from the AWS IAM console.</li><li><strong>Permissions</strong>: Ensure the user or role has permissions for the AWS services you plan to manage.</li><li><strong>Internet Access</strong>: Required to install the AWS CLI and interact with AWS services.</li><li><strong>Root/Sudo Access</strong>: Needed for installing the AWS CLI on Linux.</li></ul><h2 id="steps-and-examples" tabindex="-1">Steps and Examples <a class="header-anchor" href="#steps-and-examples" aria-label="Permalink to &quot;Steps and Examples&quot;">​</a></h2><h3 id="_1-installing-the-aws-cli" tabindex="-1">1. Installing the AWS CLI <a class="header-anchor" href="#_1-installing-the-aws-cli" aria-label="Permalink to &quot;1. Installing the AWS CLI&quot;">​</a></h3><p>Install AWS CLI v2 on a Linux system:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;awscliv2.zip&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">unzip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> awscliv2.zip</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./aws/install</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> awscliv2.zip</span></span></code></pre></div><p>Verify the installation:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">aws</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --version</span></span></code></pre></div><p><strong>Output</strong>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>aws-cli/2.17.0 Python/3.11.6 Linux/5.15.0-73-generic exe/x86_64.rocky.8 prompt/off</span></span></code></pre></div><ul><li><strong>Explanation</strong>: Downloads and installs AWS CLI v2, then verifies the version. The installer places the binary in <code>/usr/local/bin/aws</code>.</li></ul><h3 id="_2-configuring-aws-cli" tabindex="-1">2. Configuring AWS CLI <a class="header-anchor" href="#_2-configuring-aws-cli" aria-label="Permalink to &quot;2. Configuring AWS CLI&quot;">​</a></h3><p>Configure the AWS CLI with your credentials:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">aws</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> configure</span></span></code></pre></div><p>Follow the prompts to enter:</p><ul><li>AWS Access Key ID (e.g., <code>AKIAIOSFODNN7EXAMPLE</code>).</li><li>AWS Secret Access Key (e.g., <code>wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY</code>).</li><li>Default region (e.g., <code>us-east-1</code>).</li><li>Default output format (e.g., <code>json</code>).</li></ul><p>Example session:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>AWS Access Key ID [None]: AKIAIOSFODNN7EXAMPLE</span></span>
<span class="line"><span>AWS Secret Access Key [None]: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY</span></span>
<span class="line"><span>Default region name [None]: us-east-1</span></span>
<span class="line"><span>Default output format [None]: json</span></span></code></pre></div><ul><li><strong>Explanation</strong>: Stores credentials in <code>~/.aws/credentials</code> and settings in <code>~/.aws/config</code>. Use IAM roles or environment variables for production.</li></ul><h3 id="_3-listing-s3-buckets" tabindex="-1">3. Listing S3 Buckets <a class="header-anchor" href="#_3-listing-s3-buckets" aria-label="Permalink to &quot;3. Listing S3 Buckets&quot;">​</a></h3><p>List all S3 buckets in your AWS account:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">aws</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> s3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ls</span></span></code></pre></div><p><strong>Output</strong>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>2023-01-15 10:30:22 my-bucket-1</span></span>
<span class="line"><span>2023-05-20 14:45:10 my-bucket-2</span></span></code></pre></div><ul><li><strong>Explanation</strong>: <code>aws s3 ls</code> retrieves a list of S3 buckets. Ensure your IAM user has <code>s3:ListAllMyBuckets</code> permission.</li></ul><h3 id="_4-uploading-a-file-to-s3" tabindex="-1">4. Uploading a File to S3 <a class="header-anchor" href="#_4-uploading-a-file-to-s3" aria-label="Permalink to &quot;4. Uploading a File to S3&quot;">​</a></h3><p>Upload a local file to an S3 bucket:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">aws</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> s3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /data/employee.txt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> s3://my-bucket-1/employee.txt</span></span></code></pre></div><p><strong>Output</strong>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>upload: data/employee.txt to s3://my-bucket-1/employee.txt</span></span></code></pre></div><ul><li><strong>Explanation</strong>: <code>aws s3 cp</code> copies the file <code>employee.txt</code> to the specified bucket. Replace <code>my-bucket-1</code> with your bucket name.</li></ul><h3 id="_5-listing-ec2-instances" tabindex="-1">5. Listing EC2 Instances <a class="header-anchor" href="#_5-listing-ec2-instances" aria-label="Permalink to &quot;5. Listing EC2 Instances&quot;">​</a></h3><p>List all EC2 instances in the default region:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">aws</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ec2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> describe-instances</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --query</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Reservations[].Instances[].{ID:InstanceId,State:State.Name}&#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --output</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> table</span></span></code></pre></div><p><strong>Output</strong>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>-----------------------------------------</span></span>
<span class="line"><span>|            DescribeInstances           |</span></span>
<span class="line"><span>+---------------+-----------------------+</span></span>
<span class="line"><span>|      ID       |        State         |</span></span>
<span class="line"><span>+---------------+-----------------------+</span></span>
<span class="line"><span>| i-1234567890  | running              |</span></span>
<span class="line"><span>| i-0987654321  | stopped              |</span></span>
<span class="line"><span>+---------------+-----------------------+</span></span></code></pre></div><ul><li><strong>Explanation</strong>: <code>--query</code> filters the output to show instance IDs and states in a table format. Requires <code>ec2:DescribeInstances</code> permission.</li></ul><h3 id="_6-saving-aws-cli-output-to-a-file" tabindex="-1">6. Saving AWS CLI Output to a File <a class="header-anchor" href="#_6-saving-aws-cli-output-to-a-file" aria-label="Permalink to &quot;6. Saving AWS CLI Output to a File&quot;">​</a></h3><p>Save the output of a command (e.g., S3 bucket list) to a file:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">aws</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> s3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ls</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> buckets.txt</span></span></code></pre></div><p><strong>Verify the Output</strong>:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> buckets.txt</span></span></code></pre></div><p><strong>Output</strong>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>2023-01-15 10:30:22 my-bucket-1</span></span>
<span class="line"><span>2023-05-20 14:45:10 my-bucket-2</span></span></code></pre></div><ul><li><strong>Explanation</strong>: The <code>&gt;</code> operator redirects the command output to <code>buckets.txt</code>. Use <code>&gt;&gt;</code> to append instead of overwrite.</li></ul><h2 id="useful-commands-and-options" tabindex="-1">Useful Commands and Options <a class="header-anchor" href="#useful-commands-and-options" aria-label="Permalink to &quot;Useful Commands and Options&quot;">​</a></h2><ul><li><code>aws configure</code>: Configures credentials, region, and output format. <ul><li>Example: <code>aws configure --profile dev</code> (for named profiles).</li></ul></li><li><code>--output</code>: Sets the output format (<code>json</code>, <code>table</code>, <code>text</code>). <ul><li>Example: <code>aws s3 ls --output text</code></li></ul></li><li><code>--query</code>: Filters JSON output using JMESPath. <ul><li>Example: <code>aws ec2 describe-instances --query &#39;Reservations[].Instances[].InstanceId&#39;</code></li></ul></li><li><code>--profile</code>: Uses a specific AWS profile from <code>~/.aws/credentials</code>. <ul><li>Example: <code>aws s3 ls --profile dev</code></li></ul></li><li><code>--region</code>: Specifies a region for the command. <ul><li>Example: <code>aws s3 ls --region us-west-2</code></li></ul></li></ul><h2 id="additional-notes" tabindex="-1">Additional Notes <a class="header-anchor" href="#additional-notes" aria-label="Permalink to &quot;Additional Notes&quot;">​</a></h2><ul><li><strong>Credentials Security</strong>: Store access keys securely. Prefer IAM roles or AWS SSO for production environments.</li><li><strong>Output Formats</strong>: Use <code>--output table</code> for human-readable output or <code>--output json</code> for scripting.</li><li><strong>Error Handling</strong>: If a command fails (e.g., “Access Denied”), verify IAM permissions and region settings.</li><li><strong>Scripting</strong>: Combine AWS CLI with Bash for automation (e.g., <code>for bucket in $(aws s3 ls --output text); do ...; done</code>).</li></ul><h2 id="notes" tabindex="-1">Notes <a class="header-anchor" href="#notes" aria-label="Permalink to &quot;Notes&quot;">​</a></h2><ul><li><strong>Installation</strong>: Ensure the AWS CLI binary is in your PATH (<code>/usr/local/bin/aws</code>).</li><li><strong>Permissions</strong>: Verify IAM policies allow the required actions (e.g., <code>s3:ListBucket</code>, <code>ec2:DescribeInstances</code>).</li><li><strong>Testing</strong>: Test commands in a non-production AWS account to avoid unintended changes.</li><li><strong>Versioning</strong>: Use AWS CLI v2 for better performance and features (v1 is deprecated for some services).</li></ul><h2 id="example-input-file-employee-txt" tabindex="-1">Example Input File (<code>employee.txt</code>) <a class="header-anchor" href="#example-input-file-employee-txt" aria-label="Permalink to &quot;Example Input File (\`employee.txt\`)&quot;">​</a></h2><p>For the S3 upload example, use this sample file:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Name Position Department</span></span>
<span class="line"><span>Anto manager accounting</span></span>
<span class="line"><span>Budi manager finance</span></span>
<span class="line"><span>Cecil manager HR</span></span>
<span class="line"><span>Dinda assistant marketing</span></span>
<span class="line"><span>Eko supervisor IT</span></span>
<span class="line"><span>Farah hr_officer HR</span></span>
<span class="line"><span>Gita senior_analyst finance</span></span></code></pre></div><hr><h3 id="key-features-of-the-guide" tabindex="-1">Key Features of the Guide <a class="header-anchor" href="#key-features-of-the-guide" aria-label="Permalink to &quot;Key Features of the Guide&quot;">​</a></h3><ol><li><strong>Structure</strong>: Matches the style of your <code>awk</code> guide with clear sections, code blocks, and outputs.</li><li><strong>Introduction</strong>: Styled like your Linux Administration example, emphasizing AWS CLI’s role in cloud management.</li><li><strong>Examples</strong>: Provides practical examples (S3, EC2, output redirection) with a sample file for context.</li><li><strong>Clarity</strong>: Each command is explained with outputs and notes on permissions or requirements.</li><li><strong>Completeness</strong>: Covers installation, configuration, common tasks, and useful options, with tips for scripting and security.</li></ol>`,62)]))}const g=e(n,[["render",l]]);export{u as __pageData,g as default};
